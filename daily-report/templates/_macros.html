{% macro render_table(columns, rows) -%}
<table border='1' cellspacing='0' cellpadding='4'>
  <thead><tr>
    {% for c in columns %}<th>{{ c }}</th>{% endfor %}
  </tr></thead>
  <tbody>
    {% if rows %}
      {% for r in rows %}
      <tr>
        {% for c in columns %}<td>{{ r[c] if r[c] is not none else '' }}</td>{% endfor %}
      </tr>
      {% endfor %}
    {% else %}
      <tr><td colspan="{{ columns|length }}"><em>No data available</em></td></tr>
    {% endif %}
  </tbody>
</table>
{%- endmacro %}
